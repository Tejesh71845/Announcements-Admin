<mvc:View
    controllerName="com.incture.announcements.controller.CreateSidebarAnnouncement"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:f="sap.f"
    xmlns:core="sap.ui.core"
    xmlns:l="sap.ui.layout"
    displayBlock="true"
>
    <Page
        id="idSidebarPage"
        showHeader="false"
    >
        <f:ShellBar
            title="Finance Digital Workspace"
            homeIcon="./images/JJ_Logo_Stacked_Red_RGB.png"
            showMenuButton="false"
            showNavButton="false"
            showCopilot="false"
            showSearch="false"
            showNotifications="false"
        />

        <!-- <customHeader>
            <core:Fragment
                fragmentName="com.incture.announcements.fragments.ShellBar"
                type="XML"
            />
        </customHeader> -->

        <content>
            <VBox
                class="sapUiSmallMargin"             
            >
                <!-- Header Section -->
                <VBox class="sapUiSmallMarginBottom">
                    <HBox
                        alignItems="Center"
                        class="sapUiSmallMarginBottom"
                    >
                        <Button
                            id="idSidebarNavBackBtn"
                            icon="sap-icon://nav-back"
                            type="Transparent"
                            press="onNavBack"
                        />
                        <Title
                            text="{i18n>createSidebarAnnouncementTitle}"
                            class="sapUiTinyMarginBegin"
                        />
                    </HBox>
                    <Text
                        text="{i18n>sidebarDescText}"
                        class="sapUiTinyMarginTop"
                    />
                </VBox>

                <!-- Title and Popup Announcement Section -->
                <VBox
                    class="announcementDetailsSectionCss sapUiSmallMarginBottom"
                >
                    <l:Grid
                        defaultSpan="L6 M6 S12"
                        hSpacing="1"
                        vSpacing="1"
                    >
                        <VBox>
                            <Label
                                text="{i18n>titleLabel}"
                                required="true"
                                class="sapUiTinyMarginBottom"
                            />
                            <Input
                                id="idSidebarTitleFld"
                                placeholder="{i18n>titlePlaceholder}"
                                value="{sidebarModel>/title}"
                                valueState="{sidebarModel>/titleValueState}"
                                valueStateText="{sidebarModel>/titleValueStateText}"
                                maxLength="100"
                                width="100%"
                                change="onInputChange"
                                liveChange="onTitleLiveChange"
                            />
                            <HBox
                                justifyContent="End"
                                class="sapUiTinyMarginTop"
                            >
                                <Text text="{sidebarModel>/titleCharCount}" />
                            </HBox>
                        </VBox>

                        <VBox>
                            <Label
                                text="{i18n>popupAnnouncementLabel}"
                                class="sapUiTinyMarginBottom"
                            />
                            <HBox alignItems="Center">
                                <Switch
                                    id="idSidebarPopupAnnouncementSwitch"
                                    state="{sidebarModel>/popupAnnouncement}"
                                    customTextOn=" "
                                    customTextOff=" "
                                    change="onPopupSwitchChange"
                                />
                                <Text
                                    text="{i18n>popupHelpText}"
                                    class="sapUiTinyMarginBegin"
                                />
                            </HBox>
                        </VBox>
                    </l:Grid>

                    <!-- Rich Text Editor Section - Full Width -->
                    <VBox class="sapUiSmallMarginTop">
                        <HBox
                            alignItems="Center"
                            justifyContent="SpaceBetween"
                            class="sapUiTinyMarginBottom"
                        >
                            <Label
                                text="{i18n>descriptionLabel}"
                                required="true"
                            />
                        </HBox>
                        <VBox
                            id="idSidebarRichTextCntr"
                            width="100%"
                        >
                            <!-- RTE will be added dynamically -->
                        </VBox>
                        <HBox
                            justifyContent="End"
                            class="sapUiTinyMarginTop"
                        >
                            <Text text="{sidebarModel>/descriptionCharCount}" />
                        </HBox>
                    </VBox>
                </VBox>

                <!-- Publishing Settings Section -->
                <VBox class="publishingSettingsSectionCss sapUiSmallMarginTop">
                    <Title
                        text="{i18n>publishingSettingsSection}"
                        level="H2"
                        class="sapUiSmallMarginBottom"
                    />
                    <l:Grid
                        defaultSpan="L4 M6 S12"
                        hSpacing="1"
                        vSpacing="1"
                    >
                        <VBox>
                            <Label
                                text="{i18n>publishDateLabel}"
                                required="true"
                                class="sapUiTinyMarginBottom"
                            />
                            <DatePicker
                                id="idSidebarPublishDateDP"
                                value="{sidebarModel>/publishDate}"
                                valueState="{sidebarModel>/publishDateValueState}"
                                valueStateText="{sidebarModel>/publishDateValueStateText}"
                                displayFormat="MM-dd-yyyy"
                                valueFormat="yyyy-MM-dd"
                                minDate="{sidebarModel>/minPublishDate}"
                                change="onPublishDateChange"
                                placeholder="{i18n>datePlaceholder}"
                                width="100%"
                                enabled="{sidebarModel>/publishDateEnabled}"
                            />
                            <Text
                                text="{i18n>publishDateHelpText}"
                                class="sapUiTinyMarginTop"
                                visible="{sidebarModel>/showPublishTodayText}"
                            />
                        </VBox>

                        <VBox>
                            <Label
                                text="{i18n>expiryDateLabel}"
                                required="true"
                                class="sapUiTinyMarginBottom"
                            />
                            <DatePicker
                                id="idSidebarExpiryDateDP"
                                value="{sidebarModel>/expiryDate}"
                                valueState="{sidebarModel>/expiryDateValueState}"
                                valueStateText="{sidebarModel>/expiryDateValueStateText}"
                                displayFormat="MM-dd-yyyy"
                                valueFormat="yyyy-MM-dd"
                                minDate="{sidebarModel>/minExpiryDate}"
                                change="onExpiryDateChange"
                                placeholder="{i18n>datePlaceholder}"
                                width="100%"
                            />
                            <Text
                                text="{i18n>expiryDateHelpText}"
                                class="sapUiTinyMarginTop"
                                wrapping="true"
                            />
                        </VBox>

                        <VBox>
                            <Label
                                text="{i18n>publishLaterLabel}"
                                class="sapUiTinyMarginBottom"
                            />
                            <HBox alignItems="Center">
                                <Switch
                                    id="idSidebarPublishLaterSwitch"
                                    state="{sidebarModel>/publishLater}"
                                    customTextOn=" "
                                    customTextOff=" "
                                    change="onPublishLaterChange"
                                />
                                <Text
                                    text="{i18n>publishLaterHelpText}"
                                    class="sapUiTinyMarginBegin"
                                    wrapping="true"
                                />
                            </HBox>
                        </VBox>
                    </l:Grid>
                </VBox>

                <!-- Audience Metadata Section -->
                <VBox class="audienceMetadataSectionCss sapUiSmallMarginTop">
                    <Title
                        text="{i18n>audienceMetadataSection}"
                        level="H2"
                        class="sapUiSmallMarginBottom"
                    />
                    <l:Grid
                        defaultSpan="L6 M6 S12"
                        hSpacing="1"
                        vSpacing="1"
                    >
                        <VBox>
                            <Label
                                text="{i18n>categoryLabel}"
                                class="sapUiTinyMarginBottom"
                            />
                            <MultiComboBox
                                id="idSidebarCategoryMCB"
                                placeholder="{i18n>categoryMultiPlaceholder}"
                                selectedKeys="{sidebarModel>/categories}"
                                selectionChange="onCategoryChange"
                                items="{categoryModel>/category}"
                                width="100%"
                            >
                                <core:Item
                                    key="{categoryModel>key}"
                                    text="{categoryModel>text}"
                                />
                            </MultiComboBox>
                        </VBox>

                        <VBox>
                            <Label
                                text="{i18n>organizationLabel}"
                                required="true"
                                class="sapUiTinyMarginBottom"
                            />
                            <HBox>
                                <CheckBox
                                    id="idSidebarFinanceChk"
                                    text="{i18n>financeCheckbox}"
                                    selected="true"
                                    select="onOrganizationChange"
                                    enabled="false"
                                />
                                <CheckBox
                                    id="idSidebarNonFinanceChk"
                                    text="{i18n>nonFinanceCheckbox}"
                                    selected="true"
                                    select="onOrganizationChange"
                                    class="sapUiSmallMarginBegin"
                                    enabled="false"
                                />
                            </HBox>
                        </VBox>
                    </l:Grid>

                    <VBox class="sapUiSmallMarginTop">
                        <Label
                            text="{i18n>sectorLabel}"
                            required="false"
                            class="sapUiTinyMarginBottom"
                        />
                        <HBox wrap="Wrap">
                            <CheckBox
                                id="idSidebarCorporateChk"
                                text="{i18n>corporateCheckbox}"
                                selected="true"
                                select="onSectorChange"
                                enabled="false"
                            />
                            <CheckBox
                                id="idSidebarInnovativeMedicineChk"
                                text="{i18n>innovativeMedicineCheckbox}"
                                selected="true"
                                select="onSectorChange"
                                class="sapUiSmallMarginBegin"
                                enabled="false"
                            />
                            <CheckBox
                                id="idSidebarMedTechChk"
                                text="{i18n>medTechCheckbox}"
                                selected="true"
                                select="onSectorChange"
                                class="sapUiSmallMarginBegin"
                                enabled="false"
                            />
                        </HBox>
                    </VBox>
                </VBox>
            </VBox>
        </content>

        <footer>
            <OverflowToolbar>
                <ToolbarSpacer />
                <Button
                    id="idSidebarResetBtn"
                    text="{i18n>resetButton}"
                    press="onResetPress"
                    visible="{sidebarModel>/showResetButton}"
                />
                <Button
                    id="idSidebarSubmitBtn"
                    text="{i18n>submitButton}"
                    type="Emphasized"
                    press="onSubmitPress"
                />
            </OverflowToolbar>
        </footer>
    </Page>
</mvc:View>
